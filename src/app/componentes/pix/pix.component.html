<div class="container" >

  <div class="my-3 p-3 bg-body rounded shadow-sm ">
    <h6 class="border-bottom mt-3">PIX - Passo {{step}}/3</h6>

    <form >
      <div class="form-row" *ngIf="step == 1">
        <div class="form-group col-md-12">
          <label for="valor">* Informe o valor</label>
          <input type="number" class="form-control" name="valorPix" placeholder="" [(ngModel)]='valorPix'>
        </div>
        <div class="form-group col-md-6">
          <label for="msgPix">Descrição</label>
          <input type="text" class="form-control" name="msgPix" [(ngModel)]='msgPix' placeholder="">
        </div>
      </div>

      <div class="form-row"  *ngIf="step == 2">
        <div class="form-group col-md-12">
          <label for="destino">* Informe o destino</label>

          <input type="text" class="form-control mt-3" [(ngModel)]="filter" name="filter" placeholder="Filtrar Nome destino" >


          <div class="btn-info mt-3 mb-3" id="nomeSelecionado" *ngIf="contaSelecionada != 0">
            Conta Selecionada: {{contaSelecionada}} - {{nomeSelecionado}}
          </div>

          <table class="table table-striped">
            <thead>
              <th>Conta</th>
              <th>Nome</th>
            </thead>
            <tbody>
              <tr *ngFor="let u of usuariosFiltrados" (click)="selecionaOrigem(u.conta.id, u.nome, u.sobrenome, u.id)" >
                <td *ngIf="u.id != id_usuario">{{u.conta.id}}</td>
                <td *ngIf="u.id != id_usuario">{{u.nome}}</td>
              </tr>
            </tbody>
          </table>

        </div>
      </div>

      <div class="form-row"  *ngIf="step == 3">
        <h4>Transferindo</h4>
        <div class="form-group col-md-6">
          <h6>Resumo e confirmação</h6>

          <div class="btn-info mt-3 mb-3" id="nomeSelecionado" *ngIf="contaSelecionada != 0">
            Valor: {{valorPix | currency: 'BRL'}}
          </div>

          <h6>Para</h6>

          <div class="btn-info mt-3 mb-3" id="nomeSelecionado" *ngIf="contaSelecionada != 0">
            {{contaSelecionada}} - {{nomeSelecionado}}
          </div>

          <h6 *ngIf="msgPix != ''">Descrição</h6>
          <div class="btn-light mt-3 mb-3" id="nomeSelecionado" *ngIf="msgPix != ''">
            {{msgPix}}
          </div>

        </div>
      </div>

      <button type="submit" class="btn btn-secondary me-3 mt-3"  *ngIf="step > 1" (click)="previous()">VOLTAR</button>
      <button type="submit" class="btn btn-secondary mt-3"  *ngIf="step < 3" (click)="next()">PRÓXIMO</button>
      <button type="submit" class="btn btn-primary mt-3"  *ngIf="step == 3" (click)="confirmarTransacao()">CONFIRMAR</button>


    </form>




  </div>

</div>
